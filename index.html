<!DOCTYPE html>
<html>
	<head>
		<title>Typing</title>
		<link rel="icon" href="favicon.ico" type="image/x-icon" />
		<link rel="apple-touch-icon" href="favicon.ico" />
		<link rel="apple-touch-icon-precomposed" href="favicon.ico" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="default" />
		<meta name="viewport" content="user-scalable=no, width=device-width" />
		<meta name="viewport" content="minimum-scale=1.0,width=device-width,maximum-scale=1,user-scalable=no" />
		<style>
			body {text-align:center;font-family:arial;padding-top:2vh}
			textarea {font-family:arial;width:95%;height:20vh;font-size:8vh;padding:1vh}
			input {font-size:5vh;padding:2vh;width:15vw;cursor:pointer}
			@media (max-width: 1000px) {
				textarea {width:90%;height:30vh;font-size:4vh}
				input {font-size:3vh;width:45%}
			}
		</style>
	</head>
	<body ontouchstart>
		<textarea autocapitalize="off" autofocus>mommy</textarea>
		<br /><br />
		<input type="button" value="Clear" onclick="clear_()" /> 
		<input type="button" value="Speak" onclick="speak()" />
		<script>
			var text = document.getElementsByTagName('textarea')[0],
			speak = () => {
				text.value = text.value.replace(/\n/g,'');
				var val = text.value, word;
				if(val.length>0){
					word = new SpeechSynthesisUtterance(val);
					word.lang = 'en';
					word.rate = 0.8;
					speechSynthesis.speak(word);
				}
			},
			clear_ = () => {
				text.value = '';
				text.focus();
			};
			text.addEventListener('keyup', ({key}) => {
				if (key === 'Enter') {
					text.value = text.value.replace(/\n/g,'');
					text.focus();
				}
			})
			text.addEventListener('keydown', ({key}) => {

				if (key === 'Enter') {
					text.value = text.value.replace(/\n/g,'');
					speak();
				}
			})
		</script>
